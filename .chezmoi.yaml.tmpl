{{- $email := promptStringOnce . "email" "Git email address" -}}
{{- $name := promptStringOnce . "name" "Git full name" -}}
{{- $signingkey := promptStringOnce . "signingkey" "Git signing key" -}}
{{- $profile := promptStringOnce . "profile" "Machine profile (e.g. mac_work, mac_personal, linux_personal)" "mac_personal" -}}

data:
  email: {{ $email | quote }}
  name: {{ $name | quote }}
  signingkey: {{ $signingkey | quote }}
  profile: {{ $profile | quote }}

{{- if eq $profile "mac_work" }}
# Work environment configuration
sourceDir: {{ .chezmoi.sourceDir | quote }}
{{- else }}
# Personal environment configuration
sourceDir: {{ .chezmoi.sourceDir | quote }}
{{- end }}

# Diff configuration
diff:
  exclude: ["scripts"]

# Merge configuration
merge:
  tool: "vimdiff"

# Template options
template:
  options:
    - "missingkey=error"
